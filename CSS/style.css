/* ============================================================
   1. VARIÁVEIS E CONFIGURAÇÕES GLOBAIS (RESET)
============================================================ */

:root {
    /* MODO ESCURO (Padrão) */
    --bg-dark: #0f172a;
    --sidebar-bg: #111827;
    --card-bg: #1e293b;
    --text-main: #f8fafc;
    --text-muted: #94a3b8;
    --accent-blue: #3b82f6;
    --accent-green: #10b981;
    --accent-red: #ef4444;
    --hover-bg: #334155;
    --border-color: #334155;
    --modal-overlay: rgba(0, 0, 0, 0.7);
}

/* MODO CLARO */
body.light-mode {
    --bg-dark: #eaeaea;        /* O tom que você sugeriu para o fundo geral */
    --sidebar-bg: #f5f5f5;     /* Sidebar um pouco mais clara que o fundo */
    --card-bg: #ffffff;        /* Cards em branco puro para "saltarem" do fundo */
    --text-main: #1e293b;      /* Azul marinho bem escuro para leitura */
    --text-muted: #64748b;     /* Cinza médio */
    --border-color: #d1d1d1;   /* Bordas um pouco mais marcadas */
    --hover-bg: #dcdcdc;       /* Destaque de hover */
}

/* Ajuste rápido para garantir que inputs e pílulas fiquem bons no modo claro */
body.light-mode input, 
body.light-mode select, 
body.light-mode textarea {
    background: #eaeaea;
    color: #1e293b;
}

body.light-mode .idea-card {
    background-color: #ffffff;
    border: 1px solid var(--border-color);
}

/* Estilização da barra para navegadores Chrome, Edge e Safari */
::-webkit-scrollbar {
    width: 8px;                /* Largura da barra vertical */
    height: 8px;               /* Altura da barra horizontal */
}

/* Fundo da barra (o caminho por onde ela corre) */
::-webkit-scrollbar-track {
    background: var(--bg-dark); 
}

/* A parte que se move (o "puxador") */
::-webkit-scrollbar-thumb {
    background: var(--hover-bg); 
    border-radius: 10px;
    border: 2px solid var(--bg-dark); /* Cria um respiro em volta do puxador */
}

::-webkit-scrollbar-thumb:hover {
    background: var(--accent-blue);   /* Brilha em azul ao passar o mouse */
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Roboto, sans-serif;
    scrollbar-width: thin;
    scrollbar-color: var(--hover-bg) var(--bg-dark);
}

html {
    scroll-behavior: smooth;
    scrollbar-gutter: stable;
}

body {
    background-color: var(--bg-dark);
    color: var(--text-main);
    overflow: hidden;
}

/* ============================================================
   2. ESTRUTURA PRINCIPAL (SIDEBAR & CONTENT)
============================================================ */

.container {
    display: flex;
    height: 100vh;
}

/* Sidebar */

/* Barra lateral de navegação */
.sidebar {
    width: 240px;
    background-color: var(--sidebar-bg);
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    padding: 20px 0;
}

.logo {
    padding: 0 20px 30px;
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--accent-blue);
}

nav {
    flex-grow: 1;
}

.nav-item {
    width: 100%;
    padding: 12px 20px;
    background: none;
    border: none;
    color: var(--text-muted);
    text-align: left;
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    transition: 0.2s;
}

.nav-item:hover, .nav-item.active {
    background-color: var(--hover-bg);
    color: var(--text-main);
}

.nav-item.active {
    border-left: 4px solid var(--accent-blue);
    background-color: rgba(59, 130, 246, 0.1);
}

.sidebar-footer {
    padding: 20px;
    border-top: 1px solid var(--border-color);
}

.theme-toggle {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Área de conteúdo principal */
.content {
    flex-grow: 1;
    padding: 40px;
    overflow-y: auto;
}

.view {
    display: none; /* Escondido por padrão */
    max-width: 1000px;
    margin: 0 auto;
}

.view.active {
    display: block;
    animation: fadeInSlide 0.4s ease-out; /* Animação de entrada */
}

.view-header {
    margin-bottom: 30px;
}

.view-header h1 { 
    font-size: 1.8rem; 
    margin-bottom: 8px; 
}

.view-header p { 
    color: var(--text-muted); 
}

.flex-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
}

.card {
    background-color: var(--card-bg);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
    border: 1px solid var(--border-color);
}

/* ============================================================
   3. COMPONENTES DE FORMULÁRIO E BOTÕES
============================================================ */

/* Forms & Inputs */
input, select {
    background: #0f172a;
    border: 1px solid var(--border-color);
    color: white;
    padding: 10px 15px;
    border-radius: 6px;
    outline: none;
}

.full-input { 
    width: 100%; 
    margin-bottom: 15px; 
}

/* Gradiente linear do Azul (#3b82f6) para o Verde (#10b981) */
.btn-primary {
    background: linear-gradient(90deg, #3b82f6 0%, #10b981 100%);
    color: white;
    border: none;
    padding: 10px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px; /* Espaço entre o + e o texto */ 
    transition: transform 0.2s ease, filter 0.2s ease;
}

.btn-primary:hover {
    filter: brightness(1.1); /* Dá um leve brilho ao passar o mouse */
    transform: translateY(-1px); /* Sobe levemente o botão */
}

.btn-primary:active {
    transform: translateY(0); /* Volta ao normal ao clicar */
}

.btn-outline-icon {
    background: #1e293b;
    border: 1px solid var(--border);
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.input-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
    padding-bottom: 20px;
}

.input-group label {
    font-size: 0.8rem;
    color: var(--text-muted);
}

.btn-capture {
    white-space: nowrap; /* Impede que o texto "+ Capturar" quebre linha */
    height: 48px;        /* Mesma altura do input */
    padding: 0 25px;     /* Espaçamento interno lateral */
}

.btn-secondary {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    color: white;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
}

.btn-delete-task {
    background: transparent;
    border: none;
    color: #64748b;
    cursor: pointer;
    transition: color 0.2s;
}

.btn-delete-task:hover {
    color: #ef4444;
}

/* Estilo do Botão de Detalhes na Tarefa */
.btn-details-task {
    background: transparent;
    border: none;
    color: #64748b;
    cursor: pointer;
    margin-right: 18px;
    transition: color 0.2s;
}

.btn-details-task:hover {
    color: #3b82f6; /* Azul no hover */
}

/* Botão de Deletar (Lixeira) */
.btn-delete {
    background: none;
    border: none;
    color: #ef4444; /* Vermelho */
    cursor: pointer;
    padding: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    /* O SEGREDO: Invisível por padrão com transição suave */
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.2s ease;
}

.btn-delete:hover {
    transform: scale(1.1); /* Aumenta um pouquinho ao passar o mouse na lixeira */
}

/* SVG da lixeira */
.btn-delete svg {
    width: 20px;
    height: 20px;
    stroke-width: 2;
}

/* Botão de Excluir (Vermelho) */
#btn-confirm-delete {
    background-color: #ef4444;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.2s ease;
    box-shadow: 0 4px 6px -1px rgba(239, 68, 68, 0.2);
}

#btn-confirm-delete:hover {
    background-color: #dc2626; /* Vermelho um pouco mais escuro no hover */
    transform: scale(1.02);
    box-shadow: 0 10px 15px -3px rgba(239, 68, 68, 0.3);
}

/* Estilo do botão Cancelar (Borda discreta) */
#btn-cancel-delete {
    background-color: transparent;
    border: 1px solid var(--border);
    color: var(--text-main);
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    transition: background 0.2s;
}

/* Ajuste para o botão de cancelar */
.modal-footer .btn-outline-icon {
    margin: 0;
}

.task-select, .task-date-input {
    border: 1px solid var(--border);
    color: white;
    padding: 8px;
    border-radius: 6px;
    outline: none;
}

#btn-add-task {
    white-space: nowrap; /* Impede o texto de quebrar linha */
    height: 48px;
    padding: 0 25px;
    margin: 0;          /* Remove margens extras */
}

.filter-row { 
    display: flex; 
    gap: 10px; 
    margin: 20px 0; 
}

.filter-btn {
    background: var(--sidebar-bg);
    border: none;
    color: var(--text-muted);
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
}

.filter-btn.active { 
    background: var(--accent-blue); 
    color: white; 
}

/* ============================================================
   4. MODAIS (TEMA, CONFIRMAÇÃO, DETALHES)
============================================================ */

.modal-overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: none; /* Escondido por padrão */
    align-items: center;
    justify-content: center;
    z-index: 1000;
    backdrop-filter: blur(4px);
}

.modal-overlay.active { 
    display: flex; 
}

.modal-content {
    background-color: #1e293b;
    width: 90%;                   /* Respiro nas laterais em telas pequenas */
    max-width: 450px;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    max-height: 90vh;            /* Não deixa o modal ser maior que a altura da tela */
    overflow-y: auto;            /* Scroll no modal se o conteúdo todo for grande */
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

.modal-header h2 { 
    font-size: 1.25rem; 
    color: #fff; 
    padding-right: 20px;         /* Espaço para não bater no botão 'X' */
    word-break: break-word;
}

.btn-close {
    background: none; 
    border: none;
    color: var(--text-muted); 
    font-size: 24px; 
    cursor: pointer;
}

/* Ajuste específico para o tamanho da caixa de confirmação */
.modal-confirm {
    max-width: 400px; /* Um pouco menor que o modal de criação */
    border: 1px solid rgba(239, 68, 68, 0.2); /* Sutil borda avermelhada */
}

/* Botão de exclusão (Vermelho vibrante) */
.btn-danger {
    background-color: #ef4444;
    color: white;
    border: none;
    padding: 10px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: filter 0.2s;
}

.btn-danger:hover {
    filter: brightness(1.2);
}

.details-body {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.detail-group label {
    display: block;
    font-size: 0.75rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 5px;
}

.detail-group p {
    font-size: 1rem;
    color: white;
}

.detail-row {
    display: flex;
    gap: 30px;
    margin: 11px 0;
}

.detail-pill {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 15px;
    font-size: 0.85rem;
    font-weight: 600;
}

.color-options {
    display: flex;
    gap: 15px;
    margin-top: 10px;
}

.color-dot {
    width: 32px; 
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid transparent;
    transition: transform 0.2s, border-color 0.2s;
}

.color-dot.selected {
    border-color: white; /* Igual à imagem 8fff30.png */
    transform: scale(1.1);
}

#confirm-title {
    color: #f8fafc;
    font-size: 1.2rem;
}

/* Mensagem de aviso */
#confirm-message {
    font-size: 0.95rem;
    color: var(--text-muted);
    margin: 10px 0;
}

/* Garante que o título principal no corpo do modal não estoure */
#view-details-title {
    font-size: 1.1rem;
    color: white;
    margin-top: 5px;
    word-wrap: break-word;       /* Quebra palavras longas */
    overflow-wrap: break-word;   /* Reforço para navegadores modernos */
    white-space: normal;         /* Garante que o texto flua para a linha de baixo */
    line-height: 1.4;
}



/* ============================================================
   5. PAINEL PRINCIPAL (DASHBOARD)
============================================================ */

.focus-card {
    background: linear-gradient(135deg, var(--card-bg) 0%, #1e3a8a 100%);
    border: 2px solid var(--accent-blue);
    padding: 25px;
    margin-bottom: 25px;
    position: relative;
    overflow: hidden;
}

body.light-mode .focus-card {
    background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 100%);
}

.focus-badge {
    background: var(--accent-blue);
    color: white;
    font-size: 0.7rem;
    font-weight: bold;
    padding: 4px 10px;
    border-radius: 4px;
    display: inline-block;
    margin-bottom: 15px;
}

#focus-task-title {
    font-size: 1.5rem;
    margin-bottom: 10px;
}

.focus-meta {
    display: flex;
    gap: 15px;
    color: var(--text-muted);
    font-size: 0.9rem;
    margin-bottom: 20px;
}

/* Progresso na Home */
.progress-container {
    background: var(--border-color);
    height: 8px;
    border-radius: 4px;
    margin: 15px 0;
    overflow: hidden;
}

.progress-fill {
    background: var(--accent-green);
    height: 100%;
    width: 0%;
    transition: width 0.5s ease;
    box-shadow: 0 0 10px rgba(16, 185, 129, 0.4);
}

/* Estilo para cada item de tarefa na Home */
.home-task-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255, 255, 255, 0.05);
    padding: 12px 16px;
    border-radius: 10px;
    margin-bottom: 10px;
    border-left: 4px solid var(--accent-blue); /* Borda lateral para dar cor */
    transition: transform 0.2s ease;
}

.home-task-item:hover {
    transform: translateX(5px);
    background: rgba(255, 255, 255, 0.08);
}

.home-task-item.completed {
    opacity: 0.5;
    text-decoration: line-through;
}

.home-task-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Checkbox circular para a Home */
.home-task-info input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

.home-task-meta {
    display: flex;
    flex-direction: column;
}

.home-task-theme-tag {
    font-size: 0.7rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.home-task-title {
    font-weight: 600;
    font-size: 0.95rem;
}

/* ___________________________________ */

.stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-bottom: 30px;
}

.stat-card {
    background-color: var(--card-bg);
    padding: 20px;
    border-radius: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.stat-info label { 
    display: block; 
    color: var(--text-muted); 
    font-size: 0.9rem; 
    margin-bottom: 5px; 
}

.stat-info .stat-value { 
    font-size: 1.5rem; 
    font-weight: bold; 
}

.stat-icon {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.stat-icon.blue { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
.stat-icon.green { background: rgba(16, 185, 129, 0.2); color: #10b981; }
.stat-icon.orange { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }

.checkbox {
    width: 20px;
    height: 20px;
    border: 2px solid var(--text-muted);
    border-radius: 50%;
}

.tag {
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    margin-left: auto;
}

/* ============================================================
   6. CAPTURA DE IDEIAS
============================================================ */

.input-group-capture {
    display: flex;
    gap: 12px;           /* Espaço entre a caixa e o botão */
    margin-bottom: 20px; /* Espaço antes das categorias (pills) */
    align-items: center;
}

/* Ajuste no input para ele ocupar todo o espaço restante */

.input-group-capture .full-input {
    flex: 1;            /* Faz o input crescer e ocupar o espaço disponível */
    margin-bottom: 0;    /* Remove a margem inferior antiga para não desalinharem */
    height: 48px;       /* Altura fixa para combinar com o botão */
}

.filter-bar-ideias {
    display: flex;
    align-items: center;
    gap: 15px;
    margin: 25px 0 10px 0;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--border);
}

#filter-pills-ideias {
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
    gap: 10px;
    padding: 10px 0;
    
    /* Esconde a barra de rolagem mas mantém a função de scroll */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
    -webkit-overflow-scrolling: touch; /* Scroll suave no celular */
}

#filter-pills-ideias::-webkit-scrollbar {
    display: none; /* Chrome, Safari e Opera */
}

.filter-label {
    font-size: 0.85rem;
    color: var(--text-muted);
    font-weight: bold;
    white-space: nowrap;
}

.pill {
    position: relative;
    padding: 6px 10px;             /* Aumentado um pouco o respiro */
    margin: 0 2px;
    font-size: 1rem;             /* Fonte um pouco maior conforme solicitado */
    font-weight: 500;
    color: var(--text-muted);       /* Cor padrão do texto (neutra) */
    background: transparent;        /* Fundo transparente por padrão */
    border: 1px solid transparent;
    border-radius: 20px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    transition: all 0.2s ease;      /* Transição suave para o fundo aparecer */
}

/* Quando o mouse está em cima ou o tema está selecionado */

.pill:hover, .pill.active {
    background-color: var(--theme-color-bg); /* O JS vai preencher essa variável */
    color: #ffffff !important;               /* Texto fica branco para contraste */
}

/* Ajuste no botão de apagar tema dentro da pill */

.delete-theme {
    font-size: 16px;
    line-height: 1;
    opacity: 0;
    transition: opacity 0.2s;
}

.pill:hover .delete-theme {
    opacity: 1;
}

/* Container das Ideias */

.ideas-container {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* O card da ideia individual */

.idea-card {
    /* Cor de fundo mais escura baseada na imagem */
    background-color: #172033;
    padding: 20px 25px;
    border-radius: 16px;
    /* Removemos a borda padrão para ficar igual à imagem */
    border: none;
    animation: fadeIn 0.4s ease;
    transition: transform 0.2s, box-shadow 0.2s;
}

.idea-header {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-bottom: 8px;
    font-size: 0.75rem;
    font-weight: bold;
    text-transform: uppercase;
}

/* Estilo da "Pílula" roxa da categoria */
.idea-category-pill {
    background-color: #3b0764; /* Roxo escuro profundo */
    color: #d8b4fe; /* Texto roxo claro */
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.7rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.idea-date {
    color: var(--text-muted);
    font-size: 0.85rem;
    /* Empurra o botão de deletar para a direita */
    margin-right: auto;
}

.idea-content {
    font-size: 1.1rem;
    color: #ffffff;
    font-weight: 500;
    padding-left: 2px;
}

/* MOSTRAR LIXEIRA AO PASSAR O MOUSE NO CARD */
.idea-card:hover .btn-delete {
    opacity: 1;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Container da busca para dar o respiro correto entre os elementos */
.search-container {
    margin: 10px 0 20px 0;
}

/* Grupo relativo para posicionar o ícone de lupa dentro do input */
.input-group-search {
    position: relative;
    width: 100%;
}

/* Estilização do Campo de Entrada */
.input-group-search input {
    width: 100%;
    padding: 12px 15px 12px 45px; /* Espaço extra na esquerda para o ícone */
    border-radius: 12px;
    border: 1px solid var(--border-color);
    background: var(--card-bg);
    color: var(--text-main);
    font-size: 1rem;
    transition: all 0.2s ease;
}

/* Efeito de destaque ao clicar na busca */
.input-group-search input:focus {
    border-color: var(--accent-blue);
    outline: none;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); /* Brilho suave */
}

/* Posicionamento do ícone de lupa */
.search-icon {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.1rem;
    opacity: 0.5;
    pointer-events: none; /* Garante que o clique passe para o input */
}

/* ============================================================
   7. GERENCIADOR DE TAREFAS
============================================================ */

/* Cor roxa para a categoria como no print */
.idea-category {
    color: #a855f7;
}

.ideas-container {
    margin-top: 25px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.input-group-task {
    display: flex;
    gap: 12px;           /* Espaço entre a caixa de texto e o botão */
    align-items: center;
    width: 100%;
}

/* Faz o campo de texto crescer e ocupar o espaço disponível */
.input-group-task .full-input {
    flex: 1;            
    margin-bottom: 0;    /* Remove margens que podem desalinhá-los */
    height: 48px;       /* Altura fixa para combinar com o botão */
}

.task-options {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 20px;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--border);
}

.option-item {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding-right: 30px;
}

.option-item label {
    font-size: 0.9rem;
    font-weight: bold;
    color: var(--text-muted);
}

.priority-selector {
    display: flex;
    gap: 8px;
}

.priority-btn {
    padding: 6px 12px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.priority-btn.low.active { background: #10b981; color: white; border-color: #10b981; }
.priority-btn.medium.active { background: #f59e0b; color: white; border-color: #f59e0b; }
.priority-btn.high.active { background: #ef4444; color: white; border-color: #ef4444; }

.task-item {
    background: #1e293b;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-left: 4px solid #3b82f6; /* Cor padrão */
}

.task-left {
    display: flex;
    align-items: center;
    gap: 15px;
}

.task-title {
    display: block;
    font-weight: 500;
    margin-bottom: 4px;
}

.task-item.completed .task-title {
    text-decoration: line-through;
    color: var(--text-muted);
}

.task-meta {
    display: flex;
    gap: 15px;
    font-size: 0.75rem;
    color: var(--text-muted);
}

.task-filters {
    display: flex;
    gap: 15px;
    margin: 25px 0 25px 0;
}

.filter-btn {
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-weight: bold;
    cursor: pointer;
    padding-bottom: 5px;
    border-bottom: 2px solid transparent;
}

.filter-btn.active {
    color: var(--accent);
}

.task-item, .task-card-large {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    border-radius: 8px;
}

.task-checkbox {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.task-card-large {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
}

.task-right button {
    font-size: 27px;
}

.tag-high, .meta-red { 
    background: rgba(239, 68, 68, 0.2); 
    color: var(--accent-red); 
}

/* Estilo para o campo de descrição na criação */
.task-desc-input {
    width: 100%;
    background: #0f172a;
    border: 1px solid var(--border-color);
    color: white;
    padding: 12px;
    border-radius: 8px;
    outline: none;
    resize: none; /* Impede o usuário de deformar o layout */
    font-size: 0.9rem;
    transition: border-color 0.2s;
}

.task-desc-input:focus {
    border-color: var(--accent-blue);
}

/* Ajuste específico para a descrição */
#view-details-desc {
    color: var(--text-main);
    line-height: 1.6;
    white-space: pre-wrap;       /* Mantém as quebras de linha que você digitar */
    word-wrap: break-word;       /* Quebra palavras se forem muito grandes (ex: links) */
    max-height: 300px;           /* Limita a altura para não sumir da tela */
    overflow-y: auto;            /* Adiciona scroll se o texto for gigante */
    padding-right: 10px;         /* Espaço para o scroll não cobrir o texto */
}

.tasks-container {
    max-height: 500px;         /* Defina uma altura máxima confortável */
    overflow-y: auto;          /* Ativa o scroll apenas se necessário */
    padding-right: 10px;       /* Espaço para a barra não cobrir os botões */
    scrollbar-gutter: stable;  /* Garante que o conteúdo não se mova aqui também */
}

/* ============================================================
   8. CALENDÁRIO (VISÃO DE MARCADORES)
   ============================================================ */

/* Container de Navegação: Meses e botões de ação */
.calendar-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 20px;
}

.nav-controls {
    display: flex;
    align-items: center;
    gap: 15px;
}

.calendar-actions {
    display: flex;
    align-items: center;
    gap: 10px;
}

.month-title {
    font-size: 1.2rem;
    font-weight: bold;
    min-width: 180px;
    text-align: center;
    text-transform: capitalize;
    color: var(--text-main);
}

/* Cabeçalho dos dias da semana (DOM, SEG, etc) */
.week-days-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    font-weight: bold;
    color: var(--text-muted);
    font-size: 0.8rem;
    margin: 10px 0;
    padding-bottom: 5px;
    border-bottom: 1px solid var(--border-color);
}

/* Grid Principal: 7 colunas fixas */
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Card do Dia: Estrutura base */
.day-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    min-height: 85px; /* Altura estável para não pular */
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    overflow: hidden; /* Garante que nada saia da caixa */
}

/* Ajustes para Modo Claro */
body.light-mode .day-card {
    background: #ffffff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.02);
}

/* Estados do Card (Hoje, Hover, Outro Mês) */
.day-card:hover {
    transform: translateY(-2px);
    background: rgba(59, 130, 246, 0.08);
    border-color: var(--accent-blue);
}

.day-card.today {
    border: 2px solid var(--accent-blue);
    background: rgba(59, 130, 246, 0.05);
}

.day-card.other-month {
    opacity: 0.25;
    cursor: default;
}

.day-card.hidden {
    display: none; /* Usado na transição Mês/Semana */
}

/* Tipografia interna do card */
.day-card .day-number {
    font-weight: bold;
    font-size: 0.95rem;
    color: var(--text-main);
}

/* --- ESTILIZAÇÃO DAS SETAS DE NAVEGAÇÃO --- */
.nav-arrow {
    background: var(--card-bg);
    color: var(--text-main);
    border: 1px solid var(--border-color);
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 1rem;
    font-weight: bold;
}

.nav-arrow:hover {
    background: var(--hover-bg);
    border-color: var(--accent-blue);
    color: var(--accent-blue);
    transform: scale(1.1);
}

/* --- ESTILIZAÇÃO DO BOTÃO "HOJE" --- */
.btn-today {
    background: transparent;
    color: var(--accent-blue);
    border: 1px solid var(--accent-blue);
    padding: 6px 16px;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-today:hover {
    background: var(--accent-blue);
    color: white;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
}

/* ============================================================
   8.1. INDICADORES DE TAREFA (PONTINHOS)
============================================================ */

/* Container que segura os marcadores coloridos */
.cal-task-indicators {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-top: auto; /* Mantém os pontos sempre na base do card */
}

/* O Marcador em si: Impede que o layout quebre */
.task-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0; /* Não deixa o pontinho amassar */
}

/* Estilo alternativo (Pílula de texto truncada) 
   Caso você queira usar texto dentro do modal de detalhes do dia */
.cal-task-pill {
    display: block;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 0.7rem;
    padding: 3px 6px;
    border-radius: 4px;
    color: white;
    margin-bottom: 2px;
}

/* ============================================================
   09. Caixas de interação
============================================================ */

.modal-body .input-group label, .modal-body .color-selection label {
    display: block;
    margin-bottom: 10px;
    font-weight: bold;
    font-size: 0.9rem;
    color: #fff;
}

/* Alinhamento dos botões no rodapé do modal */

.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    margin-top: 25px;
}

/* ============================================================
   10. ANIMAÇÕES 
============================================================ */

@keyframes fadeInSlide {
    from {
        opacity: 0;
        transform: translateY(10px); /* Começa 10px abaixo */
    }
    to {
        opacity: 1;
        transform: translateY(0);    /* Sobe para a posição original */
    }
}

/* 2. Aplica a animação apenas na view que estiver ativa */

.view.active {
    display: block;
    animation: fadeInSlide 0.4s ease-out; /* Dura 0.4 segundos */
}

/* 3. Melhora a transição visual dos botões do menu */

.nav-item {
    transition: background-color 0.3s ease, color 0.3s ease, border-left 0.2s ease;
}

/* ============================================================
   11. RESPONSIVIDADE (MOBILE FIRST)
   ============================================================ */

/* Escondido por padrão para não aparecer no Desktop */
.theme-toggle-mobile-btn {
    display: none;
}

@media (max-width: 768px) {
    /* 1. Ajuste do Container Principal */
    .container {
        flex-direction: column;
        height: 100vh;
    }

    /* 2. Menu Inferior (Antiga Sidebar) */
    .sidebar {
        width: 100%;
        height: 65px;
        position: fixed;
        bottom: 0;
        left: 0;
        z-index: 1000;
        flex-direction: row;
        padding: 0;
        border-right: none;
        border-top: 1px solid var(--border-color);
        background: var(--sidebar-bg);
        justify-content: center;
    }

    .sidebar .logo {
        display: none;
    }

    nav {
        display: flex;
        flex-direction: row;
        width: 100%;
        height: 100%;
        justify-content: space-evenly;
        align-items: center;
    }

    .nav-item {
        flex: 1;
        flex-direction: column;
        font-size: 0.65rem;
        padding: 5px 0;
        gap: 2px;
        height: 100%;
        background: transparent;
        border: none;
        border-radius: 0;
    }

    .nav-item.active {
        background: rgba(59, 130, 246, 0.1);
        border-bottom: 5px solid var(--accent-blue);
        border-left: none;
    }

    .nav-item .icon {
        font-size: 1.3rem; /* Tamanho equilibrado para toque */
    }

    .sidebar-footer {
        display: none;
    }

    /* 3. Botão de Tema Flutuante (Somente na Home) */
    .theme-toggle-mobile-btn {
        position: fixed;
        top: 25px;
        right: 30px;
        z-index: 1001;
        background: var(--accent-blue);
        color: white;
        border: none;
        width: 42px;
        height: 42px;
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        font-size: 1.2rem;
        display: none; /* Controlado pelo JS via classe .visible */
         display: flex; /* Aparece apenas quando o JS ativar */
    }

    /* 4. Ajuste do Conteúdo */
    .content {
        padding: 20px 15px 85px 15px; /* Espaço para não cobrir o menu inferior */
        overflow-y: auto;
    }

    .stats-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }

    /* 5. Seção de Ideias Mobile */
    .input-group-capture {
        flex-direction: column;
        gap: 10px;
    }

    #btn-capture {
        width: 100%;
        height: 48px;
    }

    .pill-container {
        display: flex;
        flex-wrap: nowrap !important;
        overflow-x: auto;
        padding-bottom: 8px;
        gap: 8px;
        -webkit-overflow-scrolling: touch;
    }

    .pill-container::-webkit-scrollbar {
        display: none;
    }

    .pill {
        white-space: nowrap;
        padding: 10px 18px;
    }

    .filter-bar-ideias {
        width: 100%;
        overflow: hidden; /* Garante que o scroll não vaze do container */
        border-bottom: 1px solid var(--border);
        margin: 20px 0;
    }

    /* 6. Ajustes Gerais */
    .day-card {
        min-height: 75px;
    }

    button, .btn-details-task {
        min-height: 35px; /* Otimizado para o dedo */
    }
}

/* ============================================================
   CORREÇÕES GERAIS PARA O MODO CLARO
============================================================ */

/* 1. FORÇAR TEXTOS A USAREM A VARIÁVEL PRINCIPAL
   Isso corrige títulos de modais, nomes de tarefas e descrições
   que estavam "travados" na cor branca. */
h1, h2, h3, h4, 
.modal-header h2, 
.task-title, 
.idea-content,
#view-details-title,
#view-details-desc,
.modal-body label {
    color: var(--text-main) !important;
}

/* 2. CORRIGIR FUNDOS DOS CARDS E INPUTS
   Isso garante que as caixas de tarefa, ideias e campos de texto
   fiquem claros no modo claro. */

/* 1. Garante que o fundo e o texto sigam as variáveis em qualquer estado */
input, select, textarea {
    color: var(--text-main) !important;
    border: 1px solid var(--border-color);
}

/* Caixas de Tarefas (Lista) */
.task-item {
    background-color: var(--card-bg) !important; /* Fica branco no modo claro */
    border: 1px solid transparent; /* Borda invisível no modo escuro */
}

/* Caixas de Ideias */
.idea-card {
    background-color: var(--card-bg) !important;
}

/* Ajuste específico para o modo claro dar definição às bordas */
body.light-mode .task-item,
body.light-mode .idea-card {
    border-color: var(--border-color); /* Adiciona uma borda sutil no modo claro */
    box-shadow: 0 2px 5px rgba(0,0,0,0.05); /* Uma sombra leve para destacar do fundo */
}

/* Ajuste nos ícones de botões secundários para não sumirem */
.btn-outline-icon, .btn-delete-task, .btn-details-task {
    color: var(--text-muted);
}
.btn-outline-icon:hover, .btn-delete-task:hover, .btn-details-task:hover {
    color: var(--accent-blue);
}

/* 2. O SEGREDO: Remove o fundo branco/amarelo do autocompletar do navegador */
input:-webkit-autofill,
input:-webkit-autofill:hover, 
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
    /* Força o texto a manter a cor da nossa variável */
    -webkit-text-fill-color: var(--text-main) !important;
    /* Substitui o fundo do navegador por uma sombra interna da cor do nosso card */
    -webkit-box-shadow: 0 0 0px 1000px var(--card-bg) inset !important;
    /* Mantém a transição de cor suave */
    transition: background-color 5000s ease-in-out 0s;
}

/* 3. Garante que o placeholder (aquele texto "No que você está pensando?") 
   também fique visível e discreto */
::placeholder {
    color: var(--text-muted);
    opacity: 0.7;
}

/* Ajuste para o botão de contorno no modo claro */
body.light-mode .btn-outline-icon {
    background-color: #ffffff;
    border: 1px solid var(--border-color);
    color: var(--text-main);
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

body.light-mode .btn-outline-icon:hover {
    background-color: var(--bg-dark);
    border-color: var(--text-muted);
}

/* Garante que o ícone de "+" dentro do botão fique visível */
body.light-mode .btn-outline-icon span {
    color: var(--accent-blue);
    font-weight: bold;
}

/* Ajustes no Modal para o Modo Claro */
body.light-mode .modal-content {
    background-color: #ffffff;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Corrigindo os títulos e labels do modal que podiam estar brancos */
body.light-mode .modal-header h2,
body.light-mode .modal-body label {
    color: var(--text-main) !important;
}

/* Ajuste das Bolinhas de Cores (Color Dots) */
body.light-mode .color-dot {
    border: 2px solid transparent;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1); /* Sombra interna para cores claras não sumirem */
}

body.light-mode .color-dot.selected {
    border-color: var(--text-main); /* No modo claro, a borda de seleção é escura */
    transform: scale(1.1);
}

/* Rodapé do modal */
body.light-mode .modal-footer {
    border-top: 1px solid var(--border-color);
    padding-top: 20px;
}

/* Ajuste específico para o Modo Claro do botão Hoje */
body.light-mode .btn-today {
    border-color: var(--accent-blue);
    color: var(--accent-blue);
}

body.light-mode .btn-today:hover {
    background: var(--accent-blue);
    color: white;
}